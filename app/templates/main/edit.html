{% extends "base.html" %}

{% block title %}ç¼–è¾‘æ–‡ç« {% endblock %}

{% block content %}
<div class="container-fluid px-0">
    <div class="juejin-editor">
        <!-- ç¼–è¾‘å™¨å¤´éƒ¨ -->
        <div class="editor-header">
            <h3 class="editor-title">ç¼–è¾‘æ–‡ç« </h3>
            <div class="juejin-editor-toolbar">
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('**', '**')" title="åŠ ç²— (Ctrl+B)">
                    <strong>B</strong>
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('*', '*')" title="æ–œä½“ (Ctrl+I)">
                    <em>I</em>
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('## ', '')" title="æ ‡é¢˜ (Ctrl+H)">
                    H
                </button>
                <div class="juejin-toolbar-separator"></div>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('[', '](url)')" title="é“¾æ¥ (Ctrl+K)">
                    ğŸ”—
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="triggerImageUpload()" title="å›¾ç‰‡ (Ctrl+Shift+I)">
                    ğŸ–¼ï¸
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('\n```\n', '\n```\n')" title="ä»£ç å— (Ctrl+Shift+C)">
                    &lt;/&gt;
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('`', '`')" title="è¡Œå†…ä»£ç  (Ctrl+Shift+K)">
                    `
                </button>
                <div class="juejin-toolbar-separator"></div>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('\n- ', '')" title="æ— åºåˆ—è¡¨ (Ctrl+Shift+L)">
                    â€¢
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('\n1. ', '')" title="æœ‰åºåˆ—è¡¨">
                    1.
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="insertMarkdown('\n> ', '')" title="å¼•ç”¨">
                    â
                </button>
                <div class="juejin-toolbar-separator"></div>
                <button type="button" class="juejin-toolbar-btn" onclick="clearEditor()" title="æ¸…ç©º">
                    ğŸ—‘ï¸
                </button>
                <button type="button" class="juejin-toolbar-btn" onclick="toggleFullscreen()" title="å…¨å±">
                    â›¶
                </button>
            </div>
            
            <!-- éšè—çš„æ–‡ä»¶è¾“å…¥æ¡† -->
            <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="handleImageUpload(this)">
        </div>

        <!-- ç¼–è¾‘å™¨å†…å®¹åŒº -->
        <div class="editor-content">
            <!-- ç¼–è¾‘é¢æ¿ -->
            <div class="editor-pane left">
                <div class="pane-header edit">ç¼–è¾‘</div>
                <form method="POST" enctype="multipart/form-data" style="height: 100%; display: flex; flex-direction: column;">
                    <!-- éšè—å­—æ®µ -->
                    <input type="hidden" name="category_id" value="{{ post.category.id }}">
                    
                    <!-- æ ‡é¢˜è¾“å…¥ -->
                    <div style="padding: 16px 20px; border-bottom: 1px solid #e4e6ea;">
                        <input type="text" class="form-control" name="title" value="{{ post.title }}" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜..." style="border: none; outline: none; font-size: 18px; font-weight: 500; padding: 8px 0; background: transparent;" required>
                    </div>
                    
                    <!-- é¦–å›¾ä¸Šä¼ åŒºåŸŸ -->
                    <div class="cover-image-area" style="padding: 16px 20px; border-bottom: 1px solid #e4e6ea;">
                        <label class="cover-image-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 12px;">
                            æ–‡ç« é¦–å›¾ <span style="color: #999;">(é€‰å¡«ï¼Œå»ºè®®å°ºå¯¸ï¼š800x450)</span>
                        </label>
                        <div class="cover-image-upload" style="position: relative;">
                            <input type="file" name="cover_image" id="coverImageInput" accept="image/*" style="display: none;" onchange="handleCoverImageUpload(this)">
                            <div class="cover-image-preview" id="coverImagePreview" style="{% if post.cover_image %}display: block;{% else %}display: none;{% endif %} position: relative; margin-bottom: 12px;">
                                <img id="coverImageImg" src="{% if post.cover_image %}{{ url_for('static', filename='uploads/' + post.cover_image) }}{% endif %}" alt="é¦–å›¾é¢„è§ˆ" style="width: 100%; max-height: 200px; object-fit: cover; border-radius: 6px; border: 1px solid #e4e6ea;">
                                <button type="button" class="cover-image-remove" onclick="removeCoverImage()" style="position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.6); color: white; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 12px;">Ã—</button>
                            </div>
                            <button type="button" class="cover-image-btn" onclick="triggerCoverImageUpload()" style="{% if post.cover_image %}display: none;{% else %}display: flex;{% endif %} align-items: center; justify-content: center; width: 100%; height: 120px; border: 2px dashed #d1d5db; border-radius: 6px; background: #f9fafb; color: #6b7280; cursor: pointer; transition: all 0.2s;">
                                <div style="text-align: center;">
                                    <div style="font-size: 24px; margin-bottom: 8px;">ğŸ“·</div>
                                    <div style="font-size: 14px;">ç‚¹å‡»ä¸Šä¼ é¦–å›¾</div>
                                    <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">æ”¯æŒ JPGã€PNGã€GIF æ ¼å¼ï¼Œå»ºè®®å¤§å°ä¸è¶…è¿‡ 5MB</div>
                                </div>
                            </button>
                        </div>
                    </div>
                    
                    <!-- æ–‡ç« æ‘˜è¦åŒºåŸŸ -->
                    <div class="summary-input-area" style="padding: 16px 20px; border-bottom: 1px solid #e4e6ea;">
                        <label for="summary" class="summary-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 8px;">
                            æ–‡ç« æ‘˜è¦ <span style="color: #999;">(é€‰å¡«ï¼Œç”¨äºæç‚¼æ–‡ç« ç²¾åå†…å®¹)</span>
                        </label>
                        <textarea name="summary" id="summary" class="summary-textarea" placeholder="è¯·è¾“å…¥æ–‡ç« æ‘˜è¦ï¼Œç®€è¦æ¦‚æ‹¬æ–‡ç« çš„æ ¸å¿ƒå†…å®¹..." style="border: none; outline: none; font-size: 14px; padding: 8px 0; background: transparent; width: 100%; resize: none; min-height: 60px; line-height: 1.5;">{{ post.summary or '' }}</textarea>
                        <div class="summary-counter" style="text-align: right; font-size: 12px; color: #999; margin-top: 4px;">
                            <span id="summaryCount">0</span>/200å­—
                        </div>
                    </div>
                    
                    <!-- ä¸“æ é€‰æ‹©åŒºåŸŸ -->
                    <div style="padding: 16px 20px; border-bottom: 1px solid #e4e6ea;">
                        <label for="category_id" style="display: block; font-size: 14px; color: #666; margin-bottom: 8px;">
                            é€‰æ‹©ä¸“æ  <span style="color: #e74c3c;">*</span>
                        </label>
                        <select name="category_id" id="category_id" required style="border: 1px solid #e4e6ea; border-radius: 4px; padding: 8px 12px; font-size: 14px; width: 200px; background: white;">
                            <option value="">è¯·é€‰æ‹©ä¸“æ </option>
                            {% for category in categories %}
                            <option value="{{ category.id }}" {% if category.id == post.category_id %}selected{% endif %}>{{ category.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <!-- å†…å®¹ç¼–è¾‘åŒº -->
                    <textarea class="editor-textarea" id="content" name="content" placeholder="è¯·è¾“å…¥æ–‡ç« å†…å®¹ï¼Œæ”¯æŒ Markdown è¯­æ³•..." required>{{ post.content }}</textarea>
                    
                    <!-- éšè—çš„æäº¤æŒ‰é’®ï¼Œé€šè¿‡åº•éƒ¨æŒ‰é’®è§¦å‘ -->
                    <button type="submit" id="hiddenSubmit" style="display: none;"></button>
                </form>
            </div>

            <!-- é¢„è§ˆé¢æ¿ -->
            <div class="editor-pane">
                <div class="pane-header preview">é¢„è§ˆ</div>
                <div class="preview-pane" id="preview">
                    <div class="preview-empty">
                        <div class="preview-empty-icon">ğŸ“</div>
                        <div class="preview-empty-text">å¼€å§‹å†™ä½œå§</div>
                        <div class="preview-empty-hint">åœ¨å·¦ä¾§ç¼–è¾‘å™¨ä¸­è¾“å…¥å†…å®¹ï¼Œè¿™é‡Œä¼šå®æ—¶æ˜¾ç¤ºé¢„è§ˆæ•ˆæœ</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç¼–è¾‘å™¨åº•éƒ¨ -->
        <div class="editor-footer">
            <div class="editor-stats">
                <div class="stat-item">
                    <span>å­—ç¬¦æ•°:</span>
                    <span id="charCount">0</span>
                </div>
                <div class="stat-item">
                    <span>å•è¯æ•°:</span>
                    <span id="wordCount">0</span>
                </div>
                <div class="stat-item">
                    <span>è¡Œæ•°:</span>
                    <span id="lineCount">1</span>
                </div>
            </div>
            <div class="editor-actions">
                <button type="button" class="action-btn" onclick="clearEditor()">æ¸…ç©º</button>
                <button type="button" class="action-btn" onclick="toggleFullscreen()">å…¨å±</button>
                <button type="button" class="action-btn" onclick="updateArticle()" style="color: #1e80ff; font-weight: 500;">æ›´æ–°æ–‡ç« </button>
            </div>
        </div>
    </div>
</div>

<!-- Marked.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/marked@4.3.0/marked.min.js"></script>

<script>
// è·å–DOMå…ƒç´ 
const contentTextarea = document.getElementById('content');
const summaryTextarea = document.getElementById('summary');
const previewPane = document.getElementById('preview');
const charCountSpan = document.getElementById('charCount');
const wordCountSpan = document.getElementById('wordCount');
const lineCountSpan = document.getElementById('lineCount');
const summaryCountSpan = document.getElementById('summaryCount');

// å®æ—¶é¢„è§ˆåŠŸèƒ½
function updatePreview() {
    const content = contentTextarea.value;
    
    if (content.trim() === '') {
        previewPane.innerHTML = `
            <div class="preview-empty">
                <div class="preview-empty-icon">ğŸ“</div>
                <div class="preview-empty-text">å¼€å§‹å†™ä½œå§</div>
                <div class="preview-empty-hint">åœ¨å·¦ä¾§ç¼–è¾‘å™¨ä¸­è¾“å…¥å†…å®¹ï¼Œè¿™é‡Œä¼šå®æ—¶æ˜¾ç¤ºé¢„è§ˆæ•ˆæœ</div>
            </div>
        `;
    } else {
        try {
            previewPane.innerHTML = marked.parse(content);
        } catch (error) {
            previewPane.innerHTML = '<p style="color: #e74c3c;">é¢„è§ˆè§£æé”™è¯¯</p>';
        }
    }
    
    updateStats();
}

// æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
function updateStats() {
    const content = contentTextarea.value;
    const charCount = content.length;
    const wordCount = content.trim() === '' ? 0 : content.trim().split(/\s+/).length;
    const lineCount = content.split('\n').length;
    
    charCountSpan.textContent = charCount;
    wordCountSpan.textContent = wordCount;
    lineCountSpan.textContent = lineCount;
}

// æ›´æ–°æ‘˜è¦å­—ç¬¦è®¡æ•°
function updateSummaryCount() {
    const summary = summaryTextarea.value;
    const count = summary.length;
    summaryCountSpan.textContent = count;
    
    // è¶…è¿‡200å­—æ—¶å˜çº¢æç¤º
    if (count > 200) {
        summaryCountSpan.style.color = '#e74c3c';
    } else {
        summaryCountSpan.style.color = '#999';
    }
}

// æ’å…¥Markdownè¯­æ³•
function insertMarkdown(before, after) {
    const start = contentTextarea.selectionStart;
    const end = contentTextarea.selectionEnd;
    const selectedText = contentTextarea.value.substring(start, end);
    const newText = before + selectedText + after;
    
    contentTextarea.value = contentTextarea.value.substring(0, start) + newText + contentTextarea.value.substring(end);
    
    // è®¾ç½®å…‰æ ‡ä½ç½®
    const newCursorPos = start + before.length + selectedText.length;
    contentTextarea.setSelectionRange(newCursorPos, newCursorPos);
    contentTextarea.focus();
    
    updatePreview();
}

// æ¸…ç©ºç¼–è¾‘å™¨
function clearEditor() {
    if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†…å®¹å—ï¼Ÿ')) {
        contentTextarea.value = '';
        document.querySelector('input[name="title"]').value = '';
        updatePreview();
    }
}

// è§¦å‘å›¾ç‰‡ä¸Šä¼ 
function triggerImageUpload() {
    document.getElementById('imageUpload').click();
}

// å¤„ç†å›¾ç‰‡ä¸Šä¼ 
function handleImageUpload(input) {
    const file = input.files[0];
    if (!file) return;
    
    // æ£€æŸ¥æ–‡ä»¶ç±»å‹
    if (!file.type.startsWith('image/')) {
        alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶');
        return;
    }
    
    // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶ä¸º5MBï¼‰
    if (file.size > 5 * 1024 * 1024) {
        alert('å›¾ç‰‡æ–‡ä»¶ä¸èƒ½è¶…è¿‡5MB');
        return;
    }
    
    uploadImage(file);
}

// ä¸Šä¼ å›¾ç‰‡åˆ°æœåŠ¡å™¨
function uploadImage(file) {
    const formData = new FormData();
    formData.append('image', file);
    
    // æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
    const uploadingText = '![ä¸Šä¼ ä¸­...](uploading)';
    insertMarkdown(uploadingText, '');
    
    fetch('/upload_image', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // æ›¿æ¢ä¸Šä¼ ä¸­çš„æ–‡æœ¬ä¸ºå®é™…çš„å›¾ç‰‡é“¾æ¥
            const imageMarkdown = `![${file.name}](${data.url})`;
            const content = contentTextarea.value;
            const newContent = content.replace(uploadingText, imageMarkdown);
            contentTextarea.value = newContent;
            updatePreview();
        } else {
            // ç§»é™¤ä¸Šä¼ ä¸­çš„æ–‡æœ¬
            const content = contentTextarea.value;
            const newContent = content.replace(uploadingText, '');
            contentTextarea.value = newContent;
            updatePreview();
            alert('å›¾ç‰‡ä¸Šä¼ å¤±è´¥: ' + data.message);
        }
    })
    .catch(error => {
        // ç§»é™¤ä¸Šä¼ ä¸­çš„æ–‡æœ¬
        const content = contentTextarea.value;
        const newContent = content.replace(uploadingText, '');
        contentTextarea.value = newContent;
        updatePreview();
        alert('å›¾ç‰‡ä¸Šä¼ å¤±è´¥: ' + error.message);
    });
}

// å¤„ç†å¤åˆ¶ç²˜è´´å›¾ç‰‡
function handlePaste(e) {
    const items = e.clipboardData.items;
    
    for (let i = 0; i < items.length; i++) {
        const item = items[i];
        
        // æ£€æŸ¥æ˜¯å¦ä¸ºå›¾ç‰‡
        if (item.type.indexOf('image') !== -1) {
            e.preventDefault();
            const file = item.getAsFile();
            uploadImage(file);
            break;
        }
    }
}

// å¤„ç†æ‹–æ‹½ä¸Šä¼ 
function handleDragOver(e) {
    e.preventDefault();
    e.stopPropagation();
    contentTextarea.style.backgroundColor = '#f0f8ff';
}

function handleDragLeave(e) {
    e.preventDefault();
    e.stopPropagation();
    contentTextarea.style.backgroundColor = '';
}

function handleDrop(e) {
    e.preventDefault();
    e.stopPropagation();
    contentTextarea.style.backgroundColor = '';
    
    const files = e.dataTransfer.files;
    
    for (let i = 0; i < files.length; i++) {
        const file = files[i];
        if (file.type.startsWith('image/')) {
            uploadImage(file);
        }
    }
}

// é¦–å›¾ä¸Šä¼ åŠŸèƒ½
function triggerCoverImageUpload() {
    document.getElementById('coverImageInput').click();
}

function handleCoverImageUpload(input) {
    const file = input.files[0];
    if (!file) return;
    
    // æ£€æŸ¥æ–‡ä»¶ç±»å‹
    if (!file.type.startsWith('image/')) {
        alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶');
        return;
    }
    
    // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶ä¸º5MBï¼‰
    if (file.size > 5 * 1024 * 1024) {
        alert('å›¾ç‰‡æ–‡ä»¶ä¸èƒ½è¶…è¿‡5MB');
        return;
    }
    
    // é¢„è§ˆå›¾ç‰‡
    const reader = new FileReader();
    reader.onload = function(e) {
        const preview = document.getElementById('coverImagePreview');
        const img = document.getElementById('coverImageImg');
        const uploadBtn = document.querySelector('.cover-image-btn');
        
        img.src = e.target.result;
        preview.style.display = 'block';
        uploadBtn.style.display = 'none';
    };
    reader.readAsDataURL(file);
}

function removeCoverImage() {
    const preview = document.getElementById('coverImagePreview');
    const uploadBtn = document.querySelector('.cover-image-btn');
    const input = document.getElementById('coverImageInput');
    
    preview.style.display = 'none';
    uploadBtn.style.display = 'flex';
    input.value = '';
}

// å…¨å±åˆ‡æ¢
function toggleFullscreen() {
    const editor = document.querySelector('.juejin-editor');
    editor.classList.toggle('fullscreen');
    
    // æ›´æ–°æŒ‰é’®æ–‡æœ¬
    const btn = event.target;
    btn.textContent = editor.classList.contains('fullscreen') ? 'é€€å‡ºå…¨å±' : 'å…¨å±';
}

// æ›´æ–°æ–‡ç« 
function updateArticle() {
    const title = document.querySelector('input[name="title"]').value.trim();
    const content = contentTextarea.value.trim();
    const summary = summaryTextarea.value.trim();
    const categoryId = document.querySelector('select[name="category_id"]').value;
    
    if (!title) {
        alert('è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜');
        document.querySelector('input[name="title"]').focus();
        return;
    }
    
    if (!categoryId) {
        alert('è¯·é€‰æ‹©ä¸“æ ');
        document.querySelector('select[name="category_id"]').focus();
        return;
    }
    
    if (!content) {
        alert('è¯·è¾“å…¥æ–‡ç« å†…å®¹');
        contentTextarea.focus();
        return;
    }
    
    if (summary.length > 200) {
        alert('æ‘˜è¦ä¸èƒ½è¶…è¿‡200å­—');
        summaryTextarea.focus();
        return;
    }
    
    // æäº¤è¡¨å•
    document.querySelector('form').submit();
}

// å¿«æ·é”®æ”¯æŒ - å®Œå…¨æŒ‰ç…§æ˜é‡‘ç¼–è¾‘å™¨
contentTextarea.addEventListener('keydown', function(e) {
    const isCtrlOrCmd = e.ctrlKey || e.metaKey;
    
    if (isCtrlOrCmd) {
        switch(e.key.toLowerCase()) {
            case 'b':
                e.preventDefault();
                insertMarkdown('**', '**');
                break;
            case 'i':
                e.preventDefault();
                insertMarkdown('*', '*');
                break;
            case 'h':
                e.preventDefault();
                insertMarkdown('## ', '');
                break;
            case 'k':
                e.preventDefault();
                insertMarkdown('[', '](url)');
                break;
            case 'z':
                if (!e.shiftKey) {
                    // æ’¤é”€åŠŸèƒ½ç”±æµè§ˆå™¨é»˜è®¤å¤„ç†
                    return;
                }
                break;
            case 'c':
                if (e.shiftKey) {
                    e.preventDefault();
                    insertMarkdown('\n```\n', '\n```\n');
                }
                break;
            case 'k':
                if (e.shiftKey) {
                    e.preventDefault();
                    insertMarkdown('`', '`');
                }
                break;
            case 'i':
                if (e.shiftKey) {
                    e.preventDefault();
                    insertMarkdown('![', '](image-url)');
                }
                break;
            case 'l':
                if (e.shiftKey) {
                    e.preventDefault();
                    insertMarkdown('\n- ', '');
                }
                break;
            case 'enter':
                e.preventDefault();
                updateArticle();
                break;
        }
    }
    
    // Tabé”®å¤„ç†
    if (e.key === 'Tab') {
        e.preventDefault();
        const start = contentTextarea.selectionStart;
        const end = contentTextarea.selectionEnd;
        contentTextarea.value = contentTextarea.value.substring(0, start) + '  ' + contentTextarea.value.substring(end);
        contentTextarea.selectionStart = contentTextarea.selectionEnd = start + 2;
        updatePreview();
    }
});

// ç›‘å¬è¾“å…¥äº‹ä»¶
contentTextarea.addEventListener('input', updatePreview);
document.querySelector('input[name="title"]').addEventListener('input', updateStats);

// æ‘˜è¦è¾“å…¥æ¡†äº‹ä»¶ç›‘å¬
summaryTextarea.addEventListener('input', updateSummaryCount);

// æ·»åŠ å¤åˆ¶ç²˜è´´å’Œæ‹–æ‹½äº‹ä»¶ç›‘å¬å™¨
contentTextarea.addEventListener('paste', handlePaste);
contentTextarea.addEventListener('dragover', handleDragOver);
contentTextarea.addEventListener('dragleave', handleDragLeave);
contentTextarea.addEventListener('drop', handleDrop);

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
    updatePreview();
    updateSummaryCount(); // åˆå§‹åŒ–æ‘˜è¦è®¡æ•°
    
    // æ£€æŸ¥marked.jsæ˜¯å¦åŠ è½½æˆåŠŸ
    if (typeof marked === 'undefined') {
        console.error('Marked.js åŠ è½½å¤±è´¥ï¼Œé¢„è§ˆåŠŸèƒ½å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œ');
        previewPane.innerHTML = '<p style="color: #e74c3c;">é¢„è§ˆåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥</p>';
    }
});

// ESCé”®é€€å‡ºå…¨å±
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const editor = document.querySelector('.juejin-editor');
        if (editor.classList.contains('fullscreen')) {
            editor.classList.remove('fullscreen');
            document.querySelector('.editor-actions .action-btn:nth-child(2)').textContent = 'å…¨å±';
        }
    }
});
</script>

<style>
/* æ ‡é¢˜è¾“å…¥æ¡†æ ·å¼ */
.form-control {
    border: none !important;
    box-shadow: none !important;
}

.form-control:focus {
    border: none !important;
    box-shadow: none !important;
    outline: none !important;
}

/* å…¨å±æ¨¡å¼ä¸‹çš„æ ·å¼è°ƒæ•´ */
.juejin-editor.fullscreen {
    background: #ffffff;
}

.juejin-editor.fullscreen .editor-content {
    min-height: calc(100vh - 120px);
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
    .container-fluid {
        padding: 0 !important;
    }
    
    .juejin-editor {
        margin: 0;
        border-radius: 0;
    }
}
</style>
{% endblock %}